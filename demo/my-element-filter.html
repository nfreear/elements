<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="style/app.v2.css">

<title> my-element-filter demo </title>

<h1> Demo </h1>

<form>

<h2><tt>&lt;my-element-filter></tt></h2>

<h3 id="groupLabel">Choose a fruit</h3>

<my-element-filter
  selector="fieldset > label"
  label="Filter fruits"
  minlength="1"
  autocomplete="name"
  output-template="%d results found!"
  >
  <fieldset aria-labelledby="groupLabel">
    <label><input type="checkbox" value="apple"> Apple</label>
    <label><input type="checkbox" value="banana"> Banana</label>
    <label><input type="checkbox" value="cherry"> Cherry — I'm a very, very, very, very long sentence.</label>
    <label><input type="checkbox" value="damson"> Damson</label>
    <label><input type="checkbox" value="elderberry"> Elderberry</label>
    <label><input type="checkbox" value="fig"> Fig</label>
    <label><input type="checkbox" value="goosebery"> Gooseberry</label>
    <label><input type="checkbox" value="hucklebery"> Huckleberry</label>
    <label><input type="checkbox" value="jackfruit"> Jackfruit</label>
    <label><input type="checkbox" value="kiwi"> Kiwi</label>
    <label><input type="checkbox" value="lemon"> Lemon</label>
  </fieldset>

</my-element-filter>


<h2><tt>&lt;my-input></tt></h2>
<p>
  <my-input
    autocomplete="email"
    type="email"
    data-aria-required="true"
    >
    <label>Email <input type="text"><!-- <input> that I don't control. --></label>
  </my-input>
</p>


<h2><tt>&lt;my-captcha></tt></h2>

<p>
  <my-captcha
    event-capture="true"
    sitekey="6Lc9DgMrAAAAAJMlezY7LWg8IpPCOGm51rEZDbnx"
    message="Hello! Please prove you’re not a robot."
    input-selector="#hidden_captcha"
    >
  </my-captcha>

  <input id="hidden_captcha" type="hidden">
</p>

<p>
  <button type="submit">Submit</button>
</p>

</form>


<script type="importmap">
{
  "imports": {
    "local:ndf-elements": "../index.js",
    "unpkg:ndf-elements": "https://unpkg.com/ndf-elements@^1",
    "ghp:ndf-elements": "https://nfreear.github.io/elements/index.js"
  }
}
</script>

<script type="module">
  import { MyElementFilterElement, MyInputElement, MyCaptchaElement } from 'local:ndf-elements';

  window.customElements.define('my-element-filter', MyElementFilterElement);
  window.customElements.define('my-input', MyInputElement);
  window.customElements.define('my-captcha', MyCaptchaElement);
</script>


<script type="module">
  setTimeout(() => {
    const filterElem = document.querySelector('my-element-filter');
    // filterElem.value = 'a';
  },
  250);

  const FORM = document.querySelector('form');
  FORM.addEventListener('submit', (ev) => {
    ev.preventDefault();
    console.debug('submit:', ev);
    setTimeout(() => alert('Form submit'), 500);
  });
</script>

</html>
